"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/accounting/page",{

/***/ "(app-pages-browser)/./src/components/auth/AuthProvider.tsx":
/*!**********************************************!*\
  !*** ./src/components/auth/AuthProvider.tsx ***!
  \**********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuthProvider: function() { return /* binding */ AuthProvider; },\n/* harmony export */   useAuth: function() { return /* binding */ useAuth; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_supabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/supabase */ \"(app-pages-browser)/./src/lib/supabase.ts\");\n/* __next_internal_client_entry_do_not_use__ AuthProvider,useAuth auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n// Create the auth context\nconst AuthContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nconst AuthProvider = (param)=>{\n    let { children } = param;\n    _s();\n    const [user, setUser] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [session, setSession] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    // Check if user is already logged in on mount\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const checkAuth = async ()=>{\n            try {\n                // Check if Supabase is configured first\n                if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                    console.warn(\"Supabase is not configured. Please set up your environment variables.\");\n                    setError(\"Supabase is not configured. Please check your environment variables.\");\n                    setIsLoading(false);\n                    return;\n                }\n                // Check if Supabase client is properly initialized\n                if (!_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n                    throw new Error(\"Supabase client is not initialized. Please check your environment variables.\");\n                }\n                // Get session from Supabase\n                const { data: { session } } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.getSession();\n                setSession(session);\n                setUser((session === null || session === void 0 ? void 0 : session.user) || null);\n                setError(null); // Clear any previous errors\n            } catch (err) {\n                console.error(\"Auth check failed:\", err);\n                setError(\"Failed to check authentication status. Please check your Supabase configuration.\");\n            } finally{\n                setIsLoading(false);\n            }\n        };\n        checkAuth();\n        // Set up auth state change listener only if supabase is available and configured\n        if ((0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)() && (_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === null || _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === void 0 ? void 0 : _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth)) {\n            const { data: { subscription } } = _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.onAuthStateChange((_event, session)=>{\n                setSession(session);\n                setUser((session === null || session === void 0 ? void 0 : session.user) || null);\n                setIsLoading(false);\n                setError(null); // Clear errors on successful auth state change\n            });\n            return ()=>{\n                subscription.unsubscribe();\n            };\n        } else {\n            setIsLoading(false);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                setError(\"Supabase is not configured. Please set up your environment variables.\");\n            }\n        }\n    }, []);\n    // Login function\n    const login = async (email, password)=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                setError(\"Supabase is not configured. Please set up your environment variables.\");\n                return;\n            }\n            if (!(_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === null || _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === void 0 ? void 0 : _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth)) {\n                setError(\"Supabase client is not initialized. Please check your environment variables.\");\n                return;\n            }\n            // Explicitly check supabase is not null before making the call\n            if (!_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n                setError(\"Authentication service is not available. Please check your configuration.\");\n                return;\n            }\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signInWithPassword({\n                email,\n                password\n            });\n            if (error) {\n                // Handle specific error cases and set appropriate error messages\n                if (error.message === \"Email not confirmed\" || error.message.includes(\"email_not_confirmed\")) {\n                    setError(\"UNCONFIRMED_EMAIL\");\n                    return; // Return early without throwing - this is an expected state\n                } else if (error.message === \"Invalid login credentials\") {\n                    setError(\"The email or password you entered is incorrect. Please check your credentials and try again.\");\n                    return; // Return early without throwing - this is an expected state\n                } else {\n                    // Only log unexpected errors to console\n                    console.error(\"Login error:\", error);\n                    setError(error.message || \"Failed to login\");\n                    throw error;\n                }\n            }\n            setSession(data.session);\n            setUser(data.user);\n        } catch (err) {\n            // Only re-throw errors that weren't already handled above\n            if (!error) {\n                console.error(\"Unexpected login error:\", err);\n                setError(err.message || \"Failed to login\");\n                throw err;\n            }\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Register function\n    const register = async (name, email, password)=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                throw new Error(\"Supabase is not configured. Please set up your environment variables.\");\n            }\n            if (!(_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === null || _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === void 0 ? void 0 : _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth)) {\n                throw new Error(\"Supabase client is not initialized. Please check your environment variables.\");\n            }\n            // Explicitly check supabase is not null before making the call\n            if (!_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n                throw new Error(\"Authentication service is not available. Please check your configuration.\");\n            }\n            // Sign up with Supabase\n            const { data, error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signUp({\n                email,\n                password,\n                options: {\n                    data: {\n                        full_name: name\n                    }\n                }\n            });\n            if (error) throw error;\n            // If email confirmation is required, don't set session immediately\n            if (data.user && !data.session) {\n                setError(\"REGISTRATION_SUCCESS\");\n                return;\n            }\n            setSession(data.session);\n            setUser(data.user);\n        } catch (err) {\n            console.error(\"Registration error:\", err);\n            setError(err.message || \"Failed to register\");\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Resend confirmation email function\n    const resendConfirmation = async (email)=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                throw new Error(\"Supabase is not configured. Please set up your environment variables.\");\n            }\n            if (!(_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === null || _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === void 0 ? void 0 : _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth)) {\n                throw new Error(\"Supabase client is not initialized. Please check your environment variables.\");\n            }\n            // Explicitly check supabase is not null before making the call\n            if (!_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n                throw new Error(\"Authentication service is not available. Please check your configuration.\");\n            }\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.resend({\n                type: \"signup\",\n                email: email\n            });\n            if (error) throw error;\n            setError(\"CONFIRMATION_SENT\");\n        } catch (err) {\n            console.error(\"Resend confirmation error:\", err);\n            setError(err.message || \"Failed to resend confirmation email\");\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    // Logout function\n    const logout = async ()=>{\n        try {\n            setIsLoading(true);\n            setError(null);\n            if (!(0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)()) {\n                throw new Error(\"Supabase is not configured. Please set up your environment variables.\");\n            }\n            if (!(_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === null || _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase === void 0 ? void 0 : _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth)) {\n                throw new Error(\"Supabase client is not initialized. Please check your environment variables.\");\n            }\n            // Explicitly check supabase is not null before making the call\n            if (!_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase) {\n                throw new Error(\"Authentication service is not available. Please check your configuration.\");\n            }\n            const { error } = await _lib_supabase__WEBPACK_IMPORTED_MODULE_2__.supabase.auth.signOut();\n            if (error) throw error;\n            setSession(null);\n            setUser(null);\n        } catch (err) {\n            console.error(\"Logout error:\", err);\n            setError(err.message || \"Failed to logout\");\n            throw err;\n        } finally{\n            setIsLoading(false);\n        }\n    };\n    const value = {\n        user,\n        session,\n        isAuthenticated: !!user,\n        isLoading,\n        isSupabaseConfigured: (0,_lib_supabase__WEBPACK_IMPORTED_MODULE_2__.isSupabaseConfigured)(),\n        login,\n        register,\n        resendConfirmation,\n        logout,\n        error\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(AuthContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/auth/AuthProvider.tsx\",\n        lineNumber: 277,\n        columnNumber: 10\n    }, undefined);\n};\n_s(AuthProvider, \"vu7vyxq70u6j0ie7F7PPMbcbSG0=\");\n_c = AuthProvider;\n// Custom hook to use auth context\nconst useAuth = ()=>{\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(AuthContext);\n    if (context === undefined) {\n        throw new Error(\"useAuth must be used within an AuthProvider\");\n    }\n    return context;\n};\n_s1(useAuth, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nvar _c;\n$RefreshReg$(_c, \"AuthProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL2F1dGgvQXV0aFByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUV5RjtBQUV6QjtBQWdCaEUsMEJBQTBCO0FBQzFCLE1BQU1PLDRCQUFjTixvREFBYUEsQ0FBOEJPO0FBT3hELE1BQU1DLGVBQTRDO1FBQUMsRUFBRUMsUUFBUSxFQUFFOztJQUNwRSxNQUFNLENBQUNDLE1BQU1DLFFBQVEsR0FBR1QsK0NBQVFBLENBQWM7SUFDOUMsTUFBTSxDQUFDVSxTQUFTQyxXQUFXLEdBQUdYLCtDQUFRQSxDQUFpQjtJQUN2RCxNQUFNLENBQUNZLFdBQVdDLGFBQWEsR0FBR2IsK0NBQVFBLENBQUM7SUFDM0MsTUFBTSxDQUFDYyxPQUFPQyxTQUFTLEdBQUdmLCtDQUFRQSxDQUFnQjtJQUVsRCw4Q0FBOEM7SUFDOUNDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTWUsWUFBWTtZQUNoQixJQUFJO2dCQUNGLHdDQUF3QztnQkFDeEMsSUFBSSxDQUFDYixtRUFBb0JBLElBQUk7b0JBQzNCYyxRQUFRQyxJQUFJLENBQUM7b0JBQ2JILFNBQVM7b0JBQ1RGLGFBQWE7b0JBQ2I7Z0JBQ0Y7Z0JBRUEsbURBQW1EO2dCQUNuRCxJQUFJLENBQUNYLG1EQUFRQSxFQUFFO29CQUNiLE1BQU0sSUFBSWlCLE1BQU07Z0JBQ2xCO2dCQUVBLDRCQUE0QjtnQkFDNUIsTUFBTSxFQUFFQyxNQUFNLEVBQUVWLE9BQU8sRUFBRSxFQUFFLEdBQUcsTUFBTVIsbURBQVFBLENBQUNtQixJQUFJLENBQUNDLFVBQVU7Z0JBQzVEWCxXQUFXRDtnQkFDWEQsUUFBUUMsQ0FBQUEsb0JBQUFBLDhCQUFBQSxRQUFTRixJQUFJLEtBQUk7Z0JBQ3pCTyxTQUFTLE9BQU8sNEJBQTRCO1lBQzlDLEVBQUUsT0FBT1EsS0FBSztnQkFDWk4sUUFBUUgsS0FBSyxDQUFDLHNCQUFzQlM7Z0JBQ3BDUixTQUFTO1lBQ1gsU0FBVTtnQkFDUkYsYUFBYTtZ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aC9BdXRoUHJvdmlkZXIudHN4PzcxNDkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlU3RhdGUsIHVzZUVmZmVjdCwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgU2Vzc2lvbiwgVXNlciB9IGZyb20gJ0BzdXBhYmFzZS9zdXBhYmFzZS1qcyc7XG5pbXBvcnQgeyBzdXBhYmFzZSwgaXNTdXBhYmFzZUNvbmZpZ3VyZWQgfSBmcm9tICdAL2xpYi9zdXBhYmFzZSc7XG5cbi8vIERlZmluZSB0aGUgYXV0aCBjb250ZXh0IHR5cGVcbmludGVyZmFjZSBBdXRoQ29udGV4dFR5cGUge1xuICB1c2VyOiBVc2VyIHwgbnVsbDtcbiAgc2Vzc2lvbjogU2Vzc2lvbiB8IG51bGw7XG4gIGlzQXV0aGVudGljYXRlZDogYm9vbGVhbjtcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBpc1N1cGFiYXNlQ29uZmlndXJlZDogYm9vbGVhbjtcbiAgbG9naW46IChlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiBQcm9taXNlPHZvaWQ+O1xuICByZWdpc3RlcjogKG5hbWU6IHN0cmluZywgZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgcmVzZW5kQ29uZmlybWF0aW9uOiAoZW1haWw6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgbG9nb3V0OiAoKSA9PiBQcm9taXNlPHZvaWQ+O1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn1cblxuLy8gQ3JlYXRlIHRoZSBhdXRoIGNvbnRleHRcbmNvbnN0IEF1dGhDb250ZXh0ID0gY3JlYXRlQ29udGV4dDxBdXRoQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIEF1dGggcHJvdmlkZXIgcHJvcHNcbmludGVyZmFjZSBBdXRoUHJvdmlkZXJQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBjb25zdCBBdXRoUHJvdmlkZXI6IFJlYWN0LkZDPEF1dGhQcm92aWRlclByb3BzPiA9ICh7IGNoaWxkcmVuIH0pID0+IHtcbiAgY29uc3QgW3VzZXIsIHNldFVzZXJdID0gdXNlU3RhdGU8VXNlciB8IG51bGw+KG51bGwpO1xuICBjb25zdCBbc2Vzc2lvbiwgc2V0U2Vzc2lvbl0gPSB1c2VTdGF0ZTxTZXNzaW9uIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtpc0xvYWRpbmcsIHNldElzTG9hZGluZ10gPSB1c2VTdGF0ZSh0cnVlKTtcbiAgY29uc3QgW2Vycm9yLCBzZXRFcnJvcl0gPSB1c2VTdGF0ZTxzdHJpbmcgfCBudWxsPihudWxsKTtcblxuICAvLyBDaGVjayBpZiB1c2VyIGlzIGFscmVhZHkgbG9nZ2VkIGluIG9uIG1vdW50XG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2hlY2tBdXRoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgdHJ5IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgaXMgY29uZmlndXJlZCBmaXJzdFxuICAgICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ1N1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IHVwIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgICAgIHNldEVycm9yKCdTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIGNoZWNrIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gQ2hlY2sgaWYgU3VwYWJhc2UgY2xpZW50IGlzIHByb3Blcmx5IGluaXRpYWxpemVkXG4gICAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEdldCBzZXNzaW9uIGZyb20gU3VwYWJhc2VcbiAgICAgICAgY29uc3QgeyBkYXRhOiB7IHNlc3Npb24gfSB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5nZXRTZXNzaW9uKCk7XG4gICAgICAgIHNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgIHNldFVzZXIoc2Vzc2lvbj8udXNlciB8fCBudWxsKTtcbiAgICAgICAgc2V0RXJyb3IobnVsbCk7IC8vIENsZWFyIGFueSBwcmV2aW91cyBlcnJvcnNcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdBdXRoIGNoZWNrIGZhaWxlZDonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcignRmFpbGVkIHRvIGNoZWNrIGF1dGhlbnRpY2F0aW9uIHN0YXR1cy4gUGxlYXNlIGNoZWNrIHlvdXIgU3VwYWJhc2UgY29uZmlndXJhdGlvbi4nKTtcbiAgICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGNoZWNrQXV0aCgpO1xuXG4gICAgLy8gU2V0IHVwIGF1dGggc3RhdGUgY2hhbmdlIGxpc3RlbmVyIG9ubHkgaWYgc3VwYWJhc2UgaXMgYXZhaWxhYmxlIGFuZCBjb25maWd1cmVkXG4gICAgaWYgKGlzU3VwYWJhc2VDb25maWd1cmVkKCkgJiYgc3VwYWJhc2U/LmF1dGgpIHtcbiAgICAgIGNvbnN0IHsgZGF0YTogeyBzdWJzY3JpcHRpb24gfSB9ID0gc3VwYWJhc2UuYXV0aC5vbkF1dGhTdGF0ZUNoYW5nZShcbiAgICAgICAgKF9ldmVudCwgc2Vzc2lvbikgPT4ge1xuICAgICAgICAgIHNldFNlc3Npb24oc2Vzc2lvbik7XG4gICAgICAgICAgc2V0VXNlcihzZXNzaW9uPy51c2VyIHx8IG51bGwpO1xuICAgICAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgICAgICAgc2V0RXJyb3IobnVsbCk7IC8vIENsZWFyIGVycm9ycyBvbiBzdWNjZXNzZnVsIGF1dGggc3RhdGUgY2hhbmdlXG4gICAgICAgIH1cbiAgICAgICk7XG5cbiAgICAgIHJldHVybiAoKSA9PiB7XG4gICAgICAgIHN1YnNjcmlwdGlvbi51bnN1YnNjcmliZSgpO1xuICAgICAgfTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICBzZXRFcnJvcignU3VwYWJhc2UgaXMgbm90IGNvbmZpZ3VyZWQuIFBsZWFzZSBzZXQgdXAgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gICAgICB9XG4gICAgfVxuICB9LCBbXSk7XG5cbiAgLy8gTG9naW4gZnVuY3Rpb25cbiAgY29uc3QgbG9naW4gPSBhc3luYyAoZW1haWw6IHN0cmluZywgcGFzc3dvcmQ6IHN0cmluZykgPT4ge1xuICAgIHRyeSB7XG4gICAgICBzZXRJc0xvYWRpbmcodHJ1ZSk7XG4gICAgICBzZXRFcnJvcihudWxsKTtcbiAgICAgIFxuICAgICAgaWYgKCFpc1N1cGFiYXNlQ29uZmlndXJlZCgpKSB7XG4gICAgICAgIHNldEVycm9yKCdTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIHNldCB1cCB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXN1cGFiYXNlPy5hdXRoKSB7XG4gICAgICAgIHNldEVycm9yKCdTdXBhYmFzZSBjbGllbnQgaXMgbm90IGluaXRpYWxpemVkLiBQbGVhc2UgY2hlY2sgeW91ciBlbnZpcm9ubWVudCB2YXJpYWJsZXMuJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRXhwbGljaXRseSBjaGVjayBzdXBhYmFzZSBpcyBub3QgbnVsbCBiZWZvcmUgbWFraW5nIHRoZSBjYWxsXG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIHNldEVycm9yKCdBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgY29uc3QgeyBkYXRhLCBlcnJvciB9ID0gYXdhaXQgc3VwYWJhc2UuYXV0aC5zaWduSW5XaXRoUGFzc3dvcmQoe1xuICAgICAgICBlbWFpbCxcbiAgICAgICAgcGFzc3dvcmRcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgLy8gSGFuZGxlIHNwZWNpZmljIGVycm9yIGNhc2VzIGFuZCBzZXQgYXBwcm9wcmlhdGUgZXJyb3IgbWVzc2FnZXNcbiAgICAgICAgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdFbWFpbCBub3QgY29uZmlybWVkJyB8fCBlcnJvci5tZXNzYWdlLmluY2x1ZGVzKCdlbWFpbF9ub3RfY29uZmlybWVkJykpIHtcbiAgICAgICAgICBzZXRFcnJvcignVU5DT05GSVJNRURfRU1BSUwnKTtcbiAgICAgICAgICByZXR1cm47IC8vIFJldHVybiBlYXJseSB3aXRob3V0IHRocm93aW5nIC0gdGhpcyBpcyBhbiBleHBlY3RlZCBzdGF0ZVxuICAgICAgICB9IGVsc2UgaWYgKGVycm9yLm1lc3NhZ2UgPT09ICdJbnZhbGlkIGxvZ2luIGNyZWRlbnRpYWxzJykge1xuICAgICAgICAgIHNldEVycm9yKCdUaGUgZW1haWwgb3IgcGFzc3dvcmQgeW91IGVudGVyZWQgaXMgaW5jb3JyZWN0LiBQbGVhc2UgY2hlY2sgeW91ciBjcmVkZW50aWFscyBhbmQgdHJ5IGFnYWluLicpO1xuICAgICAgICAgIHJldHVybjsgLy8gUmV0dXJuIGVhcmx5IHdpdGhvdXQgdGhyb3dpbmcgLSB0aGlzIGlzIGFuIGV4cGVjdGVkIHN0YXRlXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gT25seSBsb2cgdW5leHBlY3RlZCBlcnJvcnMgdG8gY29uc29sZVxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ2luIGVycm9yOicsIGVycm9yKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlIHx8ICdGYWlsZWQgdG8gbG9naW4nKTtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICBzZXRTZXNzaW9uKGRhdGEuc2Vzc2lvbik7XG4gICAgICBzZXRVc2VyKGRhdGEudXNlcik7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIC8vIE9ubHkgcmUtdGhyb3cgZXJyb3JzIHRoYXQgd2VyZW4ndCBhbHJlYWR5IGhhbmRsZWQgYWJvdmVcbiAgICAgIGlmICghZXJyb3IpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5leHBlY3RlZCBsb2dpbiBlcnJvcjonLCBlcnIpO1xuICAgICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIGxvZ2luJyk7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gUmVnaXN0ZXIgZnVuY3Rpb25cbiAgY29uc3QgcmVnaXN0ZXIgPSBhc3luYyAobmFtZTogc3RyaW5nLCBlbWFpbDogc3RyaW5nLCBwYXNzd29yZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIHNldElzTG9hZGluZyh0cnVlKTtcbiAgICAgIHNldEVycm9yKG51bGwpO1xuICAgICAgXG4gICAgICBpZiAoIWlzU3VwYWJhc2VDb25maWd1cmVkKCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTdXBhYmFzZSBpcyBub3QgY29uZmlndXJlZC4gUGxlYXNlIHNldCB1cCB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKCFzdXBhYmFzZT8uYXV0aCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGNsaWVudCBpcyBub3QgaW5pdGlhbGl6ZWQuIFBsZWFzZSBjaGVjayB5b3VyIGVudmlyb25tZW50IHZhcmlhYmxlcy4nKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRXhwbGljaXRseSBjaGVjayBzdXBhYmFzZSBpcyBub3QgbnVsbCBiZWZvcmUgbWFraW5nIHRoZSBjYWxsXG4gICAgICBpZiAoIXN1cGFiYXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignQXV0aGVudGljYXRpb24gc2VydmljZSBpcyBub3QgYXZhaWxhYmxlLiBQbGVhc2UgY2hlY2sgeW91ciBjb25maWd1cmF0aW9uLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBTaWduIHVwIHdpdGggU3VwYWJhc2VcbiAgICAgIGNvbnN0IHsgZGF0YSwgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnblVwKHtcbiAgICAgICAgZW1haWwsXG4gICAgICAgIHBhc3N3b3JkLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgZnVsbF9uYW1lOiBuYW1lXG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIFxuICAgICAgLy8gSWYgZW1haWwgY29uZmlybWF0aW9uIGlzIHJlcXVpcmVkLCBkb24ndCBzZXQgc2Vzc2lvbiBpbW1lZGlhdGVseVxuICAgICAgaWYgKGRhdGEudXNlciAmJiAhZGF0YS5zZXNzaW9uKSB7XG4gICAgICAgIHNldEVycm9yKCdSRUdJU1RSQVRJT05fU1VDQ0VTUycpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBcbiAgICAgIHNldFNlc3Npb24oZGF0YS5zZXNzaW9uKTtcbiAgICAgIHNldFVzZXIoZGF0YS51c2VyKTtcbiAgICB9IGNhdGNoIChlcnI6IGFueSkge1xuICAgICAgY29uc29sZS5lcnJvcignUmVnaXN0cmF0aW9uIGVycm9yOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlZ2lzdGVyJyk7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfVxuICB9O1xuXG4gIC8vIFJlc2VuZCBjb25maXJtYXRpb24gZW1haWwgZnVuY3Rpb25cbiAgY29uc3QgcmVzZW5kQ29uZmlybWF0aW9uID0gYXN5bmMgKGVtYWlsOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IHVwIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXN1cGFiYXNlPy5hdXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIGNoZWNrIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFeHBsaWNpdGx5IGNoZWNrIHN1cGFiYXNlIGlzIG5vdCBudWxsIGJlZm9yZSBtYWtpbmcgdGhlIGNhbGxcbiAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGgucmVzZW5kKHtcbiAgICAgICAgdHlwZTogJ3NpZ251cCcsXG4gICAgICAgIGVtYWlsOiBlbWFpbFxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGlmIChlcnJvcikgdGhyb3cgZXJyb3I7XG4gICAgICBcbiAgICAgIHNldEVycm9yKCdDT05GSVJNQVRJT05fU0VOVCcpO1xuICAgIH0gY2F0Y2ggKGVycjogYW55KSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdSZXNlbmQgY29uZmlybWF0aW9uIGVycm9yOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIubWVzc2FnZSB8fCAnRmFpbGVkIHRvIHJlc2VuZCBjb25maXJtYXRpb24gZW1haWwnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gTG9nb3V0IGZ1bmN0aW9uXG4gIGNvbnN0IGxvZ291dCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgc2V0SXNMb2FkaW5nKHRydWUpO1xuICAgICAgc2V0RXJyb3IobnVsbCk7XG4gICAgICBcbiAgICAgIGlmICghaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N1cGFiYXNlIGlzIG5vdCBjb25maWd1cmVkLiBQbGVhc2Ugc2V0IHVwIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICBpZiAoIXN1cGFiYXNlPy5hdXRoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU3VwYWJhc2UgY2xpZW50IGlzIG5vdCBpbml0aWFsaXplZC4gUGxlYXNlIGNoZWNrIHlvdXIgZW52aXJvbm1lbnQgdmFyaWFibGVzLicpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFeHBsaWNpdGx5IGNoZWNrIHN1cGFiYXNlIGlzIG5vdCBudWxsIGJlZm9yZSBtYWtpbmcgdGhlIGNhbGxcbiAgICAgIGlmICghc3VwYWJhc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdBdXRoZW50aWNhdGlvbiBzZXJ2aWNlIGlzIG5vdCBhdmFpbGFibGUuIFBsZWFzZSBjaGVjayB5b3VyIGNvbmZpZ3VyYXRpb24uJyk7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnN0IHsgZXJyb3IgfSA9IGF3YWl0IHN1cGFiYXNlLmF1dGguc2lnbk91dCgpO1xuICAgICAgaWYgKGVycm9yKSB0aHJvdyBlcnJvcjtcbiAgICAgIFxuICAgICAgc2V0U2Vzc2lvbihudWxsKTtcbiAgICAgIHNldFVzZXIobnVsbCk7XG4gICAgfSBjYXRjaCAoZXJyOiBhbnkpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0xvZ291dCBlcnJvcjonLCBlcnIpO1xuICAgICAgc2V0RXJyb3IoZXJyLm1lc3NhZ2UgfHwgJ0ZhaWxlZCB0byBsb2dvdXQnKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdmFsdWUgPSB7XG4gICAgdXNlcixcbiAgICBzZXNzaW9uLFxuICAgIGlzQXV0aGVudGljYXRlZDogISF1c2VyLFxuICAgIGlzTG9hZGluZyxcbiAgICBpc1N1cGFiYXNlQ29uZmlndXJlZDogaXNTdXBhYmFzZUNvbmZpZ3VyZWQoKSxcbiAgICBsb2dpbixcbiAgICByZWdpc3RlcixcbiAgICByZXNlbmRDb25maXJtYXRpb24sXG4gICAgbG9nb3V0LFxuICAgIGVycm9yXG4gIH07XG5cbiAgcmV0dXJuIDxBdXRoQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PntjaGlsZHJlbn08L0F1dGhDb250ZXh0LlByb3ZpZGVyPjtcbn07XG5cbi8vIEN1c3RvbSBob29rIHRvIHVzZSBhdXRoIGNvbnRleHRcbmV4cG9ydCBjb25zdCB1c2VBdXRoID0gKCkgPT4ge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChBdXRoQ29udGV4dCk7XG4gIGlmIChjb250ZXh0ID09PSB1bmRlZmluZWQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZUF1dGggbXVzdCBiZSB1c2VkIHdpdGhpbiBhbiBBdXRoUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn07Il0sIm5hbWVzIjpbIlJlYWN0IiwiY3JlYXRlQ29udGV4dCIsInVzZUNvbnRleHQiLCJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInN1cGFiYXNlIiwiaXNTdXBhYmFzZUNvbmZpZ3VyZWQiLCJBdXRoQ29udGV4dCIsInVuZGVmaW5lZCIsIkF1dGhQcm92aWRlciIsImNoaWxkcmVuIiwidXNlciIsInNldFVzZXIiLCJzZXNzaW9uIiwic2V0U2Vzc2lvbiIsImlzTG9hZGluZyIsInNldElzTG9hZGluZyIsImVycm9yIiwic2V0RXJyb3IiLCJjaGVja0F1dGgiLCJjb25zb2xlIiwid2FybiIsIkVycm9yIiwiZGF0YSIsImF1dGgiLCJnZXRTZXNzaW9uIiwiZXJyIiwic3Vic2NyaXB0aW9uIiwib25BdXRoU3RhdGVDaGFuZ2UiLCJfZXZlbnQiLCJ1bnN1YnNjcmliZSIsImxvZ2luIiwiZW1haWwiLCJwYXNzd29yZCIsInNpZ25JbldpdGhQYXNzd29yZCIsIm1lc3NhZ2UiLCJpbmNsdWRlcyIsInJlZ2lzdGVyIiwibmFtZSIsInNpZ25VcCIsIm9wdGlvbnMiLCJmdWxsX25hbWUiLCJyZXNlbmRDb25maXJtYXRpb24iLCJyZXNlbmQiLCJ0eXBlIiwibG9nb3V0Iiwic2lnbk91dCIsInZhbHVlIiwiaXNBdXRoZW50aWNhdGVkIiwiUHJvdmlkZXIiLCJ1c2VBdXRoIiwiY29udGV4dCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/auth/AuthProvider.tsx\n"));

/***/ })

});